<style>
    .app-modal-window .modal-dialog {
        width: 95%;
    }
</style>
<div ng-controller="appCodetreeEdit as vm" class="well">
    <form name="aform" class="form-horizontal" role="form" novalidate>
        <div>
            <div class="toolbarStyle">
                <button class="btn btn-success btn-sm glyphicon glyphicon-search " type="button" ng-click="vm.save()">Save</button>
                <span ng-show="aform.$dirty && aform.$valid" class="say">Changes need saving</span>
                <span ng-show="aform.$invalid" class="error"> The form has errors, please correct them</span>
                <!--{{aform.$error}}-->
                <button class="btn btn-danger btn-sm glyphicon glyphicon-remove" type="button" ng-click="vm.close()" style="margin-left: 88%"> Close</button>
            </div>
        </div>
        <fieldset>
            <div class="form-group">
                <!--<label for="id" class="control-label col-sm-2">id:</label>-->
                <div class="col-sm-1">
                    id
                    <input name="id" type="text" class="form-control" ng-model="vm.form.id" placeholder="unique id" title="unique id" readonly required />
                </div>
                <!--<label for="rid" class="control-label col-sm-2">rid:</label>-->
                <div class="col-sm-1">
                    rid
                    <input name="rid" type="number" class="form-control" ng-model="vm.form.rid" placeholder="parent id" title="parent id" ng-pattern="/^\d+$/" required />
                    <span ng-show="aform.rid.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                    <span ng-show="aform.rid.$error.pattern" data-toggle="tooltip" title="invalid number. eg 1234" class="glyphicon glyphicon-warning-sign warning form-control-feedback"></span>
                </div>
                <!--<label for="pos" class="control-label col-sm-2">pos:</label>-->
                <div class="col-sm-1">
                    Pos
                    <input name="pos" type="text" class="form-control" ng-model="vm.form.pos" placeholder="?" title="parent id" ng-pattern="/^\d+$/" required />
                    <span ng-show="aform.pos.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                    <span ng-show="aform.pos.$error.pattern" data-toggle="tooltip" title="invalid number. eg 1234" class="glyphicon glyphicon-warning-sign warning form-control-feedback"></span>
                </div>
                <div class="col-sm-2">
                    cid - special children
                    <input name="cid" type="text" class="form-control" ng-model="vm.form.cid" placeholder="?" title="child id" /> <!--ng-pattern="/^\d+$/" required />-->
                    <!--<span ng-show="aform.cid.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback" ></span>
                    <span ng-show="aform.cid.$error.pattern" data-toggle="tooltip" title="invalid number. eg 1234" class="glyphicon glyphicon-warning-sign warning form-control-feedback" ></span>-->
                </div>
                <div class="col-md-1">
                    Archived?<br />
                    <!--<input id="live" name="live" type="checkbox" class="" ng-model="vm.form.live" placeholder="?" title="stored code value" />-->
                    <checkbox name="live" large class="btn-primary" ng-model="vm.form.live"></checkbox>
                </div>
            </div>
            <div class="well well-sm">
                <div class="form-group">
                    <!--<label for="code" class="control-label col-sm-2">code:</label>-->
                    <div class="col-sm-2">
                        Code
                        <input name="code" type="text" class="form-control" ng-model="vm.form.code" placeholder="code reference" title="code reference" required />
                        <span ng-show="aform.code.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-8">
                        Name
                        <input name="name" type="text" class="form-control" ng-model="vm.form.name" placeholder="descriptive name" title="description" required />
                        <span ng-show="aform.name.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-8">
                        Value
                        <input name="value" type="text" class="form-control" ng-model="vm.form.value" placeholder="value passed to form" title="stored code value" />
                        <span ng-show="aform.value.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-2">
                        Days allowed
                        <input name="days" type="text" class="form-control" ng-model="vm.form.days" placeholder="number of days allowed, 0 if not used" title="" ng-pattern="/^\d+$/" required/>
                        <span ng-show="aform.days.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                        <span ng-show="aform.days.$error.pattern" data-toggle="tooltip" title="invalid number. eg 1234" class="glyphicon glyphicon-warning-sign warning form-control-feedback"></span>
                    </div>
                </div>
            </div>

            <div class="well well-sm">
                <div class="form-group">
                    <div class="col-md-3">
                        FSEC
                        <input name="fsec" type="text" class="form-control" ng-model="vm.form.fsec" placeholder="FSEC code" title="stored code value" />
                        <!--<span ng-show="aform.fsec.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback" ></span>-->
                        <br />
                        FSEC Description
                        <input name="fsecdescription" type="text" class="form-control" ng-model="vm.form.fsecdescription" placeholder="FSEC description" title="stored code value" />
                    </div>
                    <div class="col-md-1">
                        FSEC value
                        <input name="fsecvalue" type="text" class="form-control" ng-model="vm.form.fsecvalue" placeholder="FSEC value" title="stored code value" />
                        <!--<span ng-show="aform.fsecvalue.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback" ></span>-->
                        <br />
                        VOA
                        <input name="vocode" type="text" class="form-control" ng-model="vm.form.vocode" placeholder="Valuation office code" title="stored code value" />
                        <!--<span ng-show="aform.vocode.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback" ></span>-->
                    </div>
                    <div class="col-md-3">
                        FSEC Group
                        <input name="fsecgroup" type="text" class="form-control" ng-model="vm.form.fsecgroup" placeholder="FSEC group, A,B,C,D" title="stored code value" />
                        <!--<span ng-show="aform.fsecgroup.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback" ></span>-->
                        <br />
                        FSEC Group Description
                        <input name="fsecgroupdescription" type="text" class="form-control" ng-model="vm.form.fsecgroupdescription" placeholder="FSEC group description" title="stored code value" />
                    </div>
                    <div class="col-md-3">
                        AB Code
                        <input name="abcode" type="text" class="form-control" ng-model="vm.form.abcode" placeholder="AC code" title="stored code value" />
                        <!--<span ng-show="aform.abcode.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback" ></span>-->
                        <br />
                        AB Code Description
                        <input name="abcodedescription" type="text" class="form-control" ng-model="vm.form.abcodedescription" placeholder="AB code description" title="stored code value" />
                    </div>
                </div>
            </div>

            <div class="well well-sm">
                Fields & Values
                <div ng-repeat="val in vm.form.codeval track by $index" ng-form="fieldsForm">
                    <div class="well well-sm">
                        <div class="form-group">
                            <div class="col-sm-2">
                                Type<br />
                                <div class="btn-group" dropdown is-open="status.isopen" style="width: 100%;">
                                    <button id="single-button" type="button" class="btn btn-default" dropdown-toggle ng-disabled="disabled">
                                        {{val.typename || 'Select a value'}} <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu" role="menu" aria-labelledby="single-button">
                                        <!--<li role="menuitem" ng-click="val.type = '???';val.code= '???'"><a href="">???</a></li>
                                        <li class="divider"></li>-->
                                        <li name="type" ng-repeat="choice in vm.list"><a href="" ng-click="vm.type(val, choice)">{{choice.name}}</a></li>
                                        <li class="divider"></li>
                                        <!--<li role="menuitem" ng-click="val.type = 'letter'"><a href="">Letter</a></li>
                                        <li role="menuitem" ng-click="val.type = 'form'"><a >Form</a></li>
                                        <li class="divider"></li>
                                        <li role="menuitem"><a href="#">Separated link</a></li>-->
                                    </ul>
                                    <span ng-show="fieldsForm.type.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                                </div>
                            </div>
                            <div class="col-sm-2">
                                Name
                                <input name="fcode" type="text" ng-model="val.code" class="form-control" style="width: 100%;" placeholder="enter a name, eg Letter1" required />
                                <span ng-show="fieldsForm.fcode.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                            </div>
                            <div class="col-sm-5">
                                Value
                                <input name="fnext" type="text" ng-model="val.name" class="form-control" style="width: 100%;" placeholder="enter a value eg 'http:\\wyfsprd1\foo\baa\doc.html'" required />
                                <span ng-show="fieldsForm.fnext.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                            </div>
                            <div class="col-sm-2">
                                Letter Prefix
                                <input name="fprefix" type="text" ng-model="val.prefix" class="form-control" style="width: 100%;" placeholder="let001" required />
                                <span ng-show="fieldsForm.fprefix.$error.required" data-toggle="tooltip" title="value required" class="glyphicon glyphicon-warning-sign error form-control-feedback"></span>
                            </div>
                            <div class="col-sm-1">
                                <br />
                                <button type="button" class="btn btn-xs btn-info" ng-click="vm.coderemove($index)"><span class="glyphicon glyphicon-remove"></span> Remove</button>
                                <br />
                                <button type="button" class="btn btn-xs btn-warning" ng-click="vm.moveup($index)"><span class="glyphicon glyphicon-arrow-up"></span> Move Up</button>
                                <br />
                                <button type="button" class="btn btn-xs btn-warning" ng-click="vm.movedown($index)"><span class="glyphicon glyphicon-arrow-down"></span> Move Down</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="toolbarStyle">
                    <button class="btn btn-info btn-sm glyphicon glyphicon-plus " type="button" ng-click="vm.codeadd()" data-toggle="tooltip" data-placement="left" title="add new step"> Add Code</button>
                </div>
            </div>

        </fieldset>
    </form>
    </div>
